@model QLDaoTao.Areas.Teacher.Models.PhieuDangKyNghiDayDayBuDTO

<div class="card shadow p-2 mt-md-5 mt-lg-0">
    <div class="card-body">
        <div style="border-bottom: 3px solid #007bff;">
            <h4 class="my-3 text-primary">ĐĂNG KÝ NGHỈ DẠY - DẠY BÙ</h4>
        </div>
        <h6 class="mt-5">Điền thông tin nghỉ dạy - dạy bù cho LHP</h6>
        <div class="card mt-3">
            <div class="card-body">
                <label for="IdLopHocPhan">Lớp học phần</label>
                <select name="IdLopHocPhan" id="DKNDDB_LHP" class="form-control">

                </select>

                <div class="row my-1">
                    <div class="col-6">
                        <label for="NgayXinNghi">Ngày xin nghỉ</label>
                        <input type="date" class="form-control" name="NgayXinNghi" id="DKNDDB_NgayXinNghi"/>
                    </div>
                    <div class="col-6">
                        <label for="NgayDauBu">Ngày dạy bù</label>
                        <input type="date" class="form-control" name="NgayDayBu" id="DKNDDB_NgayDauBu" />
                    </div>
                </div>

                <div class="row my-1">
                    <div class="col-4">
                        <label for="Thu">Thứ</label>
                        <select class="form-control" name="Thu" id="DKNDDB_Thu" style="max-height: 100px; overflow-y: auto;">
                            <option value="">Chọn</option>
                            @for (int i = 2; i <= 7; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>   
                    </div>
                    <div class="col-4">
                        <label for="TuTiet">Từ tiết</label>
                        <select class="form-control" name="TuTiet" id="DKNDDB_TuTiet" style="max-height: 100px; overflow-y: auto;">
                            <option value="">Chọn</option>
                            @for (int i = 1; i <= 14; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </div>
                    <div class="col-4">
                        <label for="DenTiet">Đến tiết</label>
                        <select class="form-control" name="DenTiet" id="DKNDDB_DenTiet" style="max-height: 100px; overflow-y: auto;">
                            <option value="">Chọn</option>
                            @for (int i = 1; i <= 14; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </div>
                </div>

                <label for="Phong">Phòng</label>
                <input type="text" class="form-control my-1" name="Phong" id="DKNDDB_Phong" />

                <label for="LyDo">Lý do</label>
                <textarea class="form-control my-1" name="LyDo" id="DKNDDB_LyDo"></textarea>

                <button id="DangKyNghiDayDayBu_AddLHP" class="btn btn-sm btn-primary my-2">Thêm</button>

                <span style="color: red; font-size: 14px;" class="mt-3" id="DKNDDB_error"></span>
            </div>    
        </div>

        <h6 class="mt-5">Danh sách các lớp học phần đã đăng ký nghỉ dạy - dạy bù</h6>

        <div class="table-responsive table-ute">
            <table id="DangKyNghiDayDayBuLHPTable" class="table table-hover table-striped table-vcenter text-nowrap">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Lớp học phần</th>
                        <th>Ngày xin nghỉ</th>
                        <th>Ngày dạy bù</th>
                        <th>Thứ</th>
                        <th>Từ tiết</th>
                        <th>Đến tiết</th>
                        <th>Phòng</th>
                        <th>Lý do</th>
                        <th>Chức năng</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="10" class="text-center">Hiện chưa có LHP đăng ký nghỉ dạy - dạy bù nào !</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <form method="post" asp-action="Create" asp-controller="NghiDayDayBu" asp-area="Teacher" enctype="multipart/form-data">
            <input type="hidden" asp-for="SoBuoiXinNghi" id="DKNDDB_SoBuoiXinNghi" value="0"></input>
            <div class="mt-5">
                <h6>Bản sao văn bản chứng từ đi kèm (nếu có)</h6>
                <div class="container-dragdrop mt-3">
                    <div class="drop-section-dragdrop">
                        <div class="col">
                            <div class="cloud-icon-dragdrop">
                                <svg xmlns="http://www.w3.org/2000/svg" width="100px" fill="#dde4f6" viewBox="0 0 640 512">
                                    <path d="M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128l-368 0zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39L296 392c0 13.3 10.7 24 24 24s24-10.7 24-24l0-134.1 39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z" />
                                </svg>
                            </div>
                            <span>KÉO VÀ THẢ HÌNH ẢNH Ở ĐÂY</span>
                            <span>HOẶC</span>
                            <button class="file-selector-dragdrop">Chọn File</button>
                            <input type="file" asp-for="BanSaoVBCTDiKem" class="file-selector-input-dragdrop" multiple>
                        </div>
                        <div class="col">
                            <div class="drop-here-dragdrop">Drop Here</div>
                        </div>
                    </div>
                    <div class="list-section-dragdrop">
                        <div class="list-title-dragdrop">Uploaded Files</div>
                        <div class="list-dragdrop"></div>
                    </div>
                </div>

            </div>

            <!-- Khu vực hiển thị ảnh đã chọn -->
            <div id="DKNDDB_BanSaoVBCTDiKem" class="mt-3"></div>

            <!-- Modal xem ảnh lớn -->
            <div class="modal fade" id="imageModal" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Xem ảnh</h5>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body text-center">
                            <img id="previewImage" src="" class="img-fluid">
                        </div>
                    </div>
                </div>
            </div>

            <div id="DangKyNghiDayDayBu_ListLHP">
                
            </div>
            <button type="submit" class="btn btn-sm btn-success mt-5 form-control" id="DKNDDB_submitBtn" disabled>Gửi yêu cầu</button>
        </form>
    </div>
</div>

@section Scripts{
    <script src="~/loadData/CreatePhieuDangKyNghiDayDayBu.js"></script>
    <script src="~/loadData/ListLHP.js"></script>
    <!-- Drag drop browser files js -->
    <script src="~/js/DragDropFile_script.js"></script>
}